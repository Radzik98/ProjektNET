@page
@model ProjektNET.Pages.ShowOfferModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<h1>Contacts home page</h1>
<form method="post">
    
    <p>
        <div class="row">
            Filtruj według kategorii:
            <input asp-for="category" class="form-control" /> 
            <button type="submit" class="btn btn-primary" asp-page-handler="sort">Filtruj</button>
        </div>
    </p>
    <p>
        <div class="row">
            Filtruj według kategorii:
            <input asp-for="category2" class="form-control" />
            <input asp-for="description" class="form-control" /> 
            <input asp-for="location" class="form-control" /> 
            <button type="submit" class="btn btn-primary" asp-page-handler="search">Filtruj</button>
        </div>
    </p>
    <table class="table">
        <thead>
            <tr>
                <th>Opis</th>
                <th>Kategoria</th>
                <th>Lokalizacja</th>
                <th>Wystawiający</th>
            </tr>
        </thead>
        <tbody>
        @if (Model.Offers != null)
        {
            foreach (var offer in Model.Offers)
            {
                if(@offer.Active == true)
                {
                    <tr>
                        <td> @offer.Description </td>
                        <td> @offer.Category </td>
                        <td> @offer.Location </td>
                        <td> @offer.Advertizer </td>
                        @* <td>
                            <!-- <snippet_Edit> -->
                            <a asp-page="./EditOffer" asp-route-id="@offer.Advertizer">Edit</a> |
                            <!-- </snippet_Edit> -->
                            <!-- <snippet_Delete> -->
                            <button type="submit" asp-page-handler="delete" asp-route-id="@offer.Advertizer">delete</button>
                            <!-- </snippet_Delete> -->
                        </td> *@
                    </tr>
                }
            }
        }
        </tbody>
    </table>
    <a asp-page="AddOffer">Create New</a>
</form>